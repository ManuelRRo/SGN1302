{% extends 'layouts/dashboard.html' %}

{% comment %} {% include 'registration/login.html' %} {% endcomment %}

{% block metadata %}
<title>Creación de Evaluación</title>
{% endblock %}

{% block content %}
{% load static %}

{% if submitted %}
<div class="container-xl px-4 mt-4">
    <div class="alert alert-primary alert-icon border-start-lg" role="alert">
        <button class="btn-close" type="button" data-bs-dismiss="alert" aria-label="Close"></button>
        <div class="alert-icon-aside">
            <i class="far fa-bell"></i>
        </div>
        <div class="alert-icon-content">
            <h6 class="alert-heading">Notificación</h6>
            Tu evaluación ha sido creada exitosamente
        </div>
    </div>
</div>
{% else %}
{% if messages %}
<div class="alert alert-danger">
    <ul>
        {% for message in messages %}
            <li>{{ message }}</li>
        {% endfor %}
    </ul>
</div>
{% else %}
<div class="container-xl px-4 mt-4">
    <div class="alert alert-primary alert-icon border-start-lg" role="alert">
        <button class="btn-close" type="button" data-bs-dismiss="alert" aria-label="Close"></button>
        <div class="alert-icon-aside">
            <i class="far fa-bell"></i>
        </div>
        <div class="alert-icon-content">
            <h6 class="alert-heading">Notificación</h6>
            Por favor, complete todos los campos del formulario.
        </div>
    </div>
</div>
{% endif %}
{% endif%}

<div class="row align-items-center justify-content-center">
    <div class="col-xl-8 px-4">
        <!-- Account details card-->
        <div class="card mb-4">
            <div class="card-header">Datos Evaluación</div>
            <div class="card-body">
                <form method="POST" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col-xl-6">
                            <div class="mb-0">Nombre de Evaluación</div>
                            <div class="mb-3">
                                {{ form.nombre_evaluacion}}
                            </div>
                        </div>
                        <div class="col-xl-6">
                            <div class="mb-0">Porcentaje</div>
                            <div class="mb-3">
                                {{ form.porcentaje}}
                            </div>
                        </div>
                    </div>

                    <div class="mb-0"><label>Grado/Materia</label></div>
                    <div class="mb-3">
                        {{ form.id_gradoseccionmateria}}
                    </div>

                    <div class="row">
                        <div class="col-xl-6">
                            <div class="mb-0">Categoria</div>
                            <div class="mb-3">
                                {{ form.id_categoria}}
                            </div>
                        </div>
                        <div class="col-xl-6">
                            <div class="mb-0">Trimestre</div>
                            <div class="mb-3">
                                {{ form.id_trimestre}}
                            </div>
                        </div>
                    </div>
                    <div class="d-flex">
                        <button type="submit" class="btn btn-primary" id="save">Registrar</button>
                    </div>

                </form>
            </div>
        </div>
    </div>
</div>

<script>
    

    window.onload = function () {
        const navDocentes = document.getElementById('navGrado');
        const collapseDocentes = document.getElementById('collapseGrado');
        const listarDocentes = document.getElementById('gestionEvaluacion');
        navDocentes.classList.add('active');
        listarDocentes.classList.add('active');
        collapseDocentes.classList.add('show');
    };
</script>

{% endblock %}